# proxy6-statistics

## Конфигурация

API ключ для получения данных о прокси захардкожен в `main.py`. Впишите ваш ключ:

```python
api_key = 'your_api_key_here'
```

## Использование

1. **Настройка окружения**

   Убедитесь, что у вас установлен Python 3.x вместе с необходимыми библиотеками.

2. **Запуск скрипта**

   Запустите скрипт из командной строки:

   ```bash
   python main.py
   ```

   Вам будет предложено ввести продолжительность сбора данных (в часах) и интервал между запросами данных (в секундах).

3. **Сбор и анализ данных**

   Скрипт будет собирать данные с указанными интервалами и сохранять результаты в директорию, названную по времени начала сбора данных. Собранные данные будут включать:

   - `daily_data.json`: JSON файл с собранными данными о прокси.
   - `proxy_data.txt`: Текстовый файл с логом собранных данных.
   - `graph_{country}_{proxy_type}.png`: Графики, показывающие доступность прокси с течением времени для каждой страны.

4. **Просмотр результатов**

   После завершения сбора данных скрипт отобразит ежедневную статистику и сгенерирует графики, которые будут сохранены в указанной директории.

## Функции

### main.py

- **fetch_countries(version)**
  - Получает список стран из API.

- **fetch_proxy_count(country, version)**
  - Получает количество прокси для определённой страны из API.

- **load_daily_data(filename)**
  - Загружает ежедневные данные из JSON файла.

- **save_daily_data(data, filename)**
  - Сохраняет ежедневные данные в JSON файл.

- **update_daily_data(daily_data, current_data)**
  - Обновляет ежедневные данные текущими собранными данными.

- **calculate_daily_stats(daily_data)**
  - Вычисляет ежедневную статистику из собранных данных.

- **display_daily_stats(stats)**
  - Отображает ежедневную статистику в консоли.

- **plot_graphs(daily_stats, save_dir)**
  - Генерирует и сохраняет графики собранных данных.

- **collect_proxy_data(duration_hours, interval)**
  - Основная функция для сбора данных о прокси в течение заданного времени и интервала.

### countries.py

- Содержит словарь `country_names`, сопоставляющий коды стран с их названиями.

## Лицензия

Этот проект лицензирован под MIT License.
